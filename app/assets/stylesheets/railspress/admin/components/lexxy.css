/*
 * RailsPress Admin - Lexxy Editor
 * Rich text editor overrides and styling
 */

:where(lexxy-toolbar){
  margin-bottom: 20px;
  padding-bottom: 10px;
}

/* Fix toolbar dropdown alignment (color/link buttons) */
.lexxy-editor__toolbar-dropdown {
  width: 34px !important;
  height: 34px !important;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
}

.lexxy-editor__toolbar-dropdown > summary {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  list-style: none;
  cursor: pointer;
}

.lexxy-editor__toolbar-dropdown > summary::-webkit-details-marker {
  display: none;
}

/* Rich text content spacing */
.rp-rich-text p,
.rp-rich-text blockquote,
.rp-rich-text ul,
.rp-rich-text ol,
.rp-rich-text h1,
.rp-rich-text h2,
.rp-rich-text h3,
.rp-rich-text h4,
.rp-rich-text pre,
.rp-rich-text figure {
  margin-bottom: var(--rp-space-md);
}

.rp-rich-text > *:last-child {
  margin-bottom: 0;
}

.rp-rich-text blockquote {
  border-left: 3px solid var(--rp-border);
  padding-left: var(--rp-space-md);
  color: var(--rp-text-muted);
  font-style: italic;
}

.rp-rich-text ul, ol {
  padding-left: 16px;
}

/* ============================================
 * Markdown Mode
 * ============================================ */

/* Editor header with label and toggle */
.rp-editor-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: var(--rp-space-sm);
}

.rp-editor-header .rp-label {
  margin-bottom: 0;
}

/* Mode toggle button */
.rp-editor-mode-toggle {
  flex-shrink: 0;
}

.rp-btn--ghost {
  background: transparent;
  border: 1px solid var(--rp-border);
  color: var(--rp-text-muted);
}

.rp-btn--ghost:hover {
  background: var(--rp-bg-subtle);
  color: var(--rp-text);
  border-color: var(--rp-border-hover);
}

.rp-btn--ghost[aria-pressed="true"] {
  background: var(--rp-primary);
  color: white;
  border-color: var(--rp-primary);
}

.rp-btn--ghost svg {
  vertical-align: middle;
  margin-right: 4px;
}

.rp-btn--ghost span {
  display: inline-flex;
  align-items: center;
}

/* Markdown textarea */
.rp-markdown-editor {
  width: 100%;
  min-height: 400px;
  padding: var(--rp-space-md);
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;
  font-size: 14px;
  line-height: 1.6;
  border: 1px solid var(--rp-border);
  border-radius: var(--rp-radius);
  background: var(--rp-bg-elevated);
  color: var(--rp-text);
  resize: vertical;
  tab-size: 2;
}

.rp-markdown-editor:focus {
  outline: none;
  border-color: var(--rp-primary);
  box-shadow: 0 0 0 3px rgba(var(--rp-primary-rgb), 0.1);
}

.rp-markdown-editor::placeholder {
  color: var(--rp-text-muted);
}

/* Hide hint labels based on mode */
[data-markdown-mode] [data-mode-label="markdown"][hidden] {
  display: none;
}

[data-markdown-mode] [data-mode-label="rich"][hidden] {
  display: none;
}
