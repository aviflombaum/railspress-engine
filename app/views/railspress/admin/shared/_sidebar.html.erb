<div class="rp-sidebar-content">
  <div class="rp-sidebar-header">
    <h1 class="rp-logo">RailsPress</h1>
    <button class="rp-sidebar-toggle" aria-label="Toggle sidebar">
      <svg class="rp-sidebar-toggle-icon rp-sidebar-toggle-icon--collapse" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="11 17 6 12 11 7"/>
        <polyline points="18 17 13 12 18 7"/>
      </svg>
      <svg class="rp-sidebar-toggle-icon rp-sidebar-toggle-icon--expand" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="13 17 18 12 13 7"/>
        <polyline points="6 17 11 12 6 7"/>
      </svg>
    </button>
  </div>

  <nav class="rp-nav">
    <%= link_to railspress.admin_root_path, class: "rp-nav-link #{current_page?(railspress.admin_root_path) ? 'rp-nav-link--active' : ''}" do %>
      <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
        <polyline points="9 22 9 12 15 12 15 22"/>
      </svg>
      <span class="rp-nav-text">Dashboard</span>
    <% end %>

    <%= link_to railspress.admin_posts_path, class: "rp-nav-link #{controller_name == 'posts' ? 'rp-nav-link--active' : ''}" do %>
      <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
        <polyline points="14 2 14 8 20 8"/>
        <line x1="16" y1="13" x2="8" y2="13"/>
        <line x1="16" y1="17" x2="8" y2="17"/>
      </svg>
      <span class="rp-nav-text">Posts</span>
    <% end %>

    <%= link_to railspress.admin_categories_path, class: "rp-nav-link #{controller_name == 'categories' ? 'rp-nav-link--active' : ''}" do %>
      <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/>
      </svg>
      <span class="rp-nav-text">Categories</span>
    <% end %>

    <%= link_to railspress.admin_tags_path, class: "rp-nav-link #{controller_name == 'tags' ? 'rp-nav-link--active' : ''}" do %>
      <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/>
        <line x1="7" y1="7" x2="7.01" y2="7"/>
      </svg>
      <span class="rp-nav-text">Tags</span>
    <% end %>

    <div class="rp-nav-divider"></div>

    <%= link_to railspress.admin_content_groups_path, class: "rp-nav-link #{controller_name == 'content_groups' ? 'rp-nav-link--active' : ''}" do %>
      <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="2" y="2" width="20" height="8" rx="2" ry="2"/>
        <rect x="2" y="14" width="20" height="8" rx="2" ry="2"/>
      </svg>
      <span class="rp-nav-text">Content Groups</span>
    <% end %>

    <%= link_to railspress.admin_content_elements_path, class: "rp-nav-link #{controller_name == 'content_elements' ? 'rp-nav-link--active' : ''}" do %>
      <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="4 7 4 4 20 4 20 7"/>
        <line x1="9" y1="20" x2="15" y2="20"/>
        <line x1="12" y1="4" x2="12" y2="20"/>
      </svg>
      <span class="rp-nav-text">Content Elements</span>
    <% end %>

    <% if Railspress.registered_entities.any? %>
      <div class="rp-nav-divider"></div>

      <% Railspress.registered_entities.each do |route_key, config| %>
        <%= link_to railspress.admin_entity_index_path(entity_type: route_key),
            class: "rp-nav-link #{controller_name == 'entities' && params[:entity_type] == route_key ? 'rp-nav-link--active' : ''}" do %>
          <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <line x1="3" y1="9" x2="21" y2="9"/>
            <line x1="9" y1="21" x2="9" y2="9"/>
          </svg>
          <span class="rp-nav-text"><%= config.label %></span>
        <% end %>
      <% end %>
    <% end %>

    <div class="rp-nav-divider"></div>
    <%= link_to "/", class: "rp-nav-link" do %>
      <svg class="rp-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <line x1="2" y1="12" x2="22" y2="12"/>
        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
      </svg>
      <span class="rp-nav-text">Main Site</span>
    <% end %>
  </nav>
</div>
